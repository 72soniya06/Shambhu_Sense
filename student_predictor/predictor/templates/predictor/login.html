{% extends 'predictor/base.html' %}
{% block title %}Login{% endblock %}

{% block content %}
<div class="login-container">
  <h2>Login</h2>

  {% if messages %}
    {% for message in messages %}
      <div class="alert {% if message.tags %}{{ message.tags }}{% endif %}">{{ message }}</div>
    {% endfor %}
  {% endif %}

<form method="post">
  {% csrf_token %}
  <div class="form-group">
    <label for="id_username">Username</label>
    <input type="text" name="username" id="id_username" value="{{ username|default:'' }}" required>
  </div>

  <div class="form-group">
    <label for="id_password">Password</label>
    <input type="password" name="password" id="id_password" placeholder="Leave blank if first-time login">
    {% if temp_password %}
      <small class="form-text text-success">Your temporary password: {{ temp_password }}</small>
    {% endif %}
  </div>

  <button type="submit" class="btn btn-primary">Login</button>
</form>
<p class="mt-3">First-time user? Leave password blank to generate temporary password.</p>

</div>

<style>
.login-container {
  max-width: 400px;
  margin: 60px auto;
  padding: 30px;
  border-radius: 12px;
  background: #fafafa;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  text-align: center;
}

h2 { margin-bottom: 25px; }

.form-group { margin-bottom: 15px; text-align: left; }
.form-group label { display: block; font-weight: 600; margin-bottom: 5px; }
.form-group input { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc; }

.btn {
  padding: 10px 20px;
  border-radius: 8px;
  border: none;
  color: white;
  background-color: #007bff;
  cursor: pointer;
}

.btn:hover { background-color: #0056b3; }

.alert {
  margin-bottom: 15px;
  padding: 10px;
  border-radius: 6px;
  color: white;
  background-color: #f44336; /* default error */
}

.alert.info { background-color: #2196F3; }
.alert.success { background-color: #4CAF50; }
</style>
{% endblock %}
